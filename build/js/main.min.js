'use strict';const services=document.querySelector(`.services`),servicesButtons=services.querySelectorAll(`.services-slider__btn`),servicesItems=services.querySelectorAll(`.services-slider__item`);let currentButton=services.querySelector(`.services-slider__btn--current`);const searchCurrentItem=()=>{for(let a=0;a<servicesItems.length;a++)if(!servicesItems[a].classList.contains(`visually-hidden`))return servicesItems[a]};let currentItem=searchCurrentItem();for(let a=0;a<servicesButtons.length;a++)servicesButtons[a].addEventListener("click",function(){servicesButtons[a].classList.contains(`services-slider__btn--current`)?currentButton=servicesButtons[a]:(currentButton.classList.remove(`services-slider__btn--current`),servicesButtons[a].classList.add(`services-slider__btn--current`),currentButton=servicesButtons[a],servicesItems[a].classList.remove(`visually-hidden`),currentItem.classList.add(`visually-hidden`),currentItem=servicesItems[a])});const catalogSlider=document.querySelector(`.slider-catalog`),arrowPrew=catalogSlider.querySelector(`.slider-catalog__arrow-prew`),arrowNext=catalogSlider.querySelector(`.slider-catalog__arrow-next`),slideOneDot=catalogSlider.querySelector(`.slider-catalog__dot--1`),slideTwoDot=catalogSlider.querySelector(`.slider-catalog__dot--2`),slideOne=catalogSlider.querySelector(`.slider-catalog__item--1`),slideTwo=catalogSlider.querySelector(`.slider-catalog__item--2`),getSlideOne=()=>{slideOne.classList.remove(`hidden`),slideTwo.classList.add(`hidden`),slideOneDot.classList.add(`slider-catalog__dot--selected`),slideTwoDot.classList.remove(`slider-catalog__dot--selected`),arrowPrew.disabled=!0,arrowNext.disabled=!1,slideOneDot.disabled=!0,slideTwoDot.disabled=!1},getSlideTwo=()=>{slideOne.classList.add(`hidden`),slideTwo.classList.remove(`hidden`),slideOneDot.classList.remove(`slider-catalog__dot--selected`),slideTwoDot.classList.add(`slider-catalog__dot--selected`),arrowPrew.disabled=!1,arrowNext.disabled=!0,slideOneDot.disabled=!1,slideTwoDot.disabled=!0};arrowPrew.addEventListener("click",getSlideOne),arrowNext.addEventListener("click",getSlideTwo),slideOneDot.addEventListener("click",getSlideOne),slideTwoDot.addEventListener("click",getSlideTwo);const feedbackModal=document.querySelector(`.feedback-modal`),feedbackLink=document.querySelector(`.feedback-link`),feedbackCloseButton=feedbackModal.querySelector(`.modal__close`),feedbackForm=feedbackModal.querySelector(`.feedback-modal__form`),inputUserName=feedbackModal.querySelector("[name=user-name]"),inputUserMail=feedbackModal.querySelector(`[name=user-mail]`);let savedUserName,savedUserMail,isLocalStorageSupported=!0;try{savedUserName=localStorage.getItem(`userName`),savedUserMail=localStorage.getItem(`userMail`)}catch(a){isLocalStorageSupported=!1}feedbackLink.addEventListener("click",function(a){a.preventDefault(),feedbackModal.classList.remove(`hidden`),feedbackModal.classList.add(`show`),inputUserName.focus(),savedUserName&&(inputUserName.value=savedUserName),savedUserMail&&(inputUserMail.value=savedUserMail)}),feedbackCloseButton.addEventListener("click",function(a){a.preventDefault(),feedbackModal.classList.add(`hidden`),feedbackModal.classList.remove(`show`),feedbackModal.classList.remove(`form-error`),mapModal.classList.add(`hidden`)}),feedbackForm.addEventListener("submit",function(a){inputUserName.value&&inputUserMail.value?isLocalStorageSupported&&(localStorage.setItem(`userName`,userNameInput.value),localStorage.setItem(`userMail`,userMailInput.value)):(a.preventDefault(),feedbackModal.classList.remove(`form-error`),feedbackModal.ofsetWidth=feedbackModal.ofsetWidth,feedbackModal.classList.add(`form-error`))}),window.addEventListener("keydown",function(a){27!==a.keyCode||feedbackModal.classList.contains(`hidden`)||(a.preventDefault(),feedbackModal.classList.add(`hidden`),feedbackModal.classList.remove(`show`),feedbackModal.classList.remove(`form-error`))});const mapLink=document.querySelector(`.map-link`),mapModal=document.querySelector(`.map-modal`),mapModalCloseButton=mapModal.querySelector(`.modal__close`);mapLink.addEventListener("click",function(a){a.preventDefault(),mapModal.classList.remove(`hidden`)}),mapModalCloseButton.addEventListener("click",function(a){a.preventDefault(),mapModal.classList.add(`hidden`)}),window.addEventListener("keydown",function(a){27!==a.keyCode||mapModal.classList.contains(`hidden`)||(a.preventDefault(),mapModal.classList.add(`hidden`))});